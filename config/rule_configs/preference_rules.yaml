# Preference Rules Configuration (Tier 3 - User Customizable and Adaptive)
# These rules provide user preferences and domain-specific customizations

rules:
  preference:
    enforcement: adaptive
    priority: medium
    user_customization: true
    learning_enabled: true
    
    # Formatting and Style Rules
    formatting_rules:
      enabled: true
      default_style: "professional"
      user_override: true
      patterns:
        - type: "markdown_formatting"
          header_hierarchy: true
          list_consistency: true
          code_block_format: "fenced"
          link_format: "reference_style"
          image_format: "with_alt_text"
          table_format: "pipe_tables"
          enforce_line_length: 120
          action: suggest_formatting
          
        - type: "json_xml_standards"
          json_validation: true
          json_schema_validation: true
          xml_validation: true
          xsd_validation: false  # optional
          indentation_style: "2_spaces"
          quote_style: "double_quotes"
          action: suggest_correction
          
        - type: "citation_standards"
          default_format: "APA"
          alternate_formats: ["MLA", "Chicago", "Harvard"]
          auto_generate_citations: true
          citation_validation: true
          bibliography_generation: true
          action: suggest_citation

    # Tone and Communication Guidelines
    tone_guidelines:
      enabled: true
      default_tone: "professional"
      adaptive_tone: true
      patterns:
        - type: "professional_tone"
          formal_language: true
          business_etiquette: true
          industry_standards: true
          corporate_guidelines: true
          executive_communication: true
          formality_level: "formal"
          action: suggest_tone_adjustment
          
        - type: "friendly_tone"
          casual_language: true
          conversational_style: true
          empathy: true
          approachability: true
          social_media_compatibility: true
          customer_service_style: true
          action: suggest_friendly_adjustment
          
        - type: "technical_tone"
          precision: true
          clarity: true
          technical_accuracy: true
          domain_terminology: true
          audience_expertise_level: "assumed_knowledgeable"
          documentation_standards: true
          action: suggest_technical_style

    # Domain-Specific Preferences
    domain_preferences:
      enabled: true
      auto_detect_domain: true
      user_learning: true
      patterns:
        - type: "industry_standards"
          domains:
            healthcare:
              terminology: "medical"
              compliance: ["HIPAA", "FDA"]
              tone: "professional_clinical"
              citations: "AMA"
            legal:
              terminology: "legal"
              compliance: ["bar_rules", "ethics"]
              tone: "formal_legal"
              citations: "Bluebook"
            technology:
              terminology: "technical"
              compliance: ["open_source", "security"]
              tone: "technical_documentation"
              citations: "IEEE"
            education:
              terminology: "academic"
              compliance: ["accessibility", "privacy"]
              tone: "educational"
              citations: "APA"
          action: apply_domain_standards
          
        - type: "organization_rules"
          custom_branding: true
          company_guidelines: true
          role_based_rules: true
          project_specific_rules: true
          departmental_standards: true
          action: apply_organization_standards
          
        - type: "user_specific_customizations"
          learning_enabled: true
          feedback_integration: true
          preference_tracking: true
          behavior_adaptation: true
          personal_dictionary: true
          action: personalize_experience

# Adaptive Configuration
adaptive:
  learning:
    enabled: true
    feedback_types:
      - "explicit_user_feedback"
      - "implicit_behavior_analysis"
      - "pattern_recognition"
      - "a_b_testing"
      
    learning_rate: 0.01
    confidence_threshold: 0.8
    adaptation_frequency: "weekly"
    
  personalization:
    user_profiles: true
    context_memory: true
    preference_weights: true
    custom_dictionaries: true
    style_adaptation: true
    
  optimization:
    performance_monitoring: true
    effectiveness_tracking: true
    user_satisfaction_measurement: true
    continuous_improvement: true

# Enforcement Configuration
enforcement:
  adaptive:
    user_override: true
    learning_enabled: true
    context_aware: true
    suggestion_based: true
    
    # Suggestion Mechanisms
    suggestions:
      provide_reasoning: true
      offer_alternatives: true
      learning_opportunities: true
      user_choice: true
      
    # Adaptation Rules
    adaptation:
      user_feedback_weight: 0.7
      system_optimization_weight: 0.3
      adaptation_threshold: 0.6
      maximum_adaptation_rate: 0.1

# Performance Configuration
performance:
  preference_rules:
    evaluation_timeout_ms: 300
    parallel_processing: true
    cache_results: true
    cache_ttl_seconds: 1800
    
    # Learning System
    learning:
      model_update_frequency: "daily"
      batch_size: 32
      learning_algorithm: "reinforcement_learning"
      
    # Resource Management
    resources:
      max_concurrent_evaluations: 25
      memory_limit_mb: 512
      cpu_limit_cores: 1

# Integration Settings
integration:
  user_interfaces:
    - name: "user_preferences_ui"
      endpoint: "internal_ui_service"
      real_time_updates: true
      
    - name: "feedback_collection"
      endpoint: "feedback_service"
      multiple_channels: true
      
  learning_services:
    - name: "ml_training_pipeline"
      endpoint: "ml_service"
      model_versions: true
      
    - name: "user_analytics"
      endpoint: "analytics_service"
      privacy_compliant: true

# Compliance and Legal
compliance:
  user_privacy:
    data_minimization: true
    consent_management: true
    transparency: true
    user_control: true
    data_portability: true
    
  accessibility:
    wcag_compliance: true
    multi_language_support: true
    alternative_formats: true
    
  ethical_ai:
    bias_detection: true
    fairness_monitoring: true
    transparency_reports: true
    user_autonomy: true